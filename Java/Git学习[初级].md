[TOC]

> 多数内容整合来源于网络,仅整理为个人使用

# Git的简单内容

- Git 属于分布式版本控制系统.注意关键词:⎣分布式⎤  

- **最初的版本控制系统:中央式版本控制系统**

  >## 中央式版本控制系统工作模型:
  >
  >1. 作为项目的主工程师，你独自一人花两天时间搭建了项目的框架；
  >
  >2. 然后，你在公司的服务器（这个服务器可以是公司内的设备，也可以是你们买的云服务）上**创建了一个中央仓库，并把你的代码提交到了中央仓库上**；
  >
  >3. 你的两个队友**从中央仓库取到了你的初始代码**，从此刻开始，你们三人开始**并行开发**；
  >
  >4. 在之后的开发过程中，你们三人为了工作方便，总是每人独立负责开发一个功能，在这个功能开发完成后，这个人就把他的这些**新代码提交到中央仓库**；
  >
  >5. 每次当有人把代码提交到中央仓库的时候，另外两个人就可以选择**把这些代码同步到自己的机器上**，保持自己的本地代码总是最新的。
  >
  >   ----
  >
  >   ![中央版本控制系统工作模型](https://user-gold-cdn.xitu.io/2017/11/30/1600a9978ea4bec3?imageslim)

  >而对于团队中的每个人来说，就会更简单一点：
  >
  >1. 第一次加入团队时，把中央仓库的代码取下来；
  >2. 写完的新功能提交到中央仓库；
  >3. 同事提交到中央仓库的新代码，及时同步下来。
  >
  >这样，一个三人的团队就成功做到了各自在自己的电脑上开发同一个项目，并且互不影响，就好像你们三个人是在同一台电脑上操作一样。

- 分布式版本控制系统

  >**分布式版本控制系统工作模型**
  >
  >依然以三人团队为例，分布式 VCS 的工作模型大致是这样：
  >
  >1. 首先，你作为主工程师，独立搭建了项目架构，**并把这些代码提交到了本地仓库**；
  >
  >2. 然后，你在服务器上创建了一个中央仓库，并把 1 中的提交**从本地仓库推送到了服务器的中央仓库**；
  >
  >3. 其他同事**把中央仓库的所有内容克隆到本地，拥有了各自的本地仓库**，从此刻开始，你们三人开始并行开发；
  >
  >4. 在之后的开发过程中，你们三人总是每人独立负责开发一个功能，在这个功能开发过程中，**一个人会把它的每一步改动提交到本地仓库**。注意：由于本地提交无需立即上传到中央仓库，所以每一步提交不必是一个完整功能，而可以是功能中的一个步骤或块。
  >
  >5. 在一个人把某个功能开发完成之后，他就可以把这个功能相关的所有提交**从本地仓库推送到中央仓库**；
  >
  >6. 每次当有人把新的提交推送到中央仓库的时候，另外两个人就可以选择**把这些提交同步到自己的机器上，并把它们和自己的本地代码合并**。
  >
  >   --------
  >
  >   ![](https://user-gold-cdn.xitu.io/2017/11/30/1600a9a4a20c2e6e?imageslim)

- 分布式版本控制系统相对于中央版本的区别

  > <font color=red>分布式 VCS 除了中央仓库之外，还有本地仓库</font>：团队中每一个成员的机器上都有一份本地仓库，这个仓库里包含了所有的版本历史，或者换句话说，每个人在自己的机器上就可以提交代码、查看历史，而无需联网和中央仓库交互——当然，取而代之的，你需要和本地仓库交互。

  > 中央式 VCS 的中央仓库有两个主要功能：**保存版本历史**、**同步团队代码**。
  >
  > 而在分布式 VCS 中，保存版本历史的工作转交到了每个团队成员的本地仓库中。
  >
  > 中央仓库就只剩下了**同步团队代码**这一个主要任务。但是要注意:它的**中央仓库依然也保存了历史版本**，但这份历史版本更多的是作为团队间的同步中转站。

- 从Git的命令上,可能能更好理解分布式版本控制系统Git

```shell
--进入工作文件夹内,下载项目
git clone https://gitee.com/hantao_1997/gitStudy.git
--电脑文件内已经新增gitStudy文件夹,和文件夹内的所有内容
cd gitStudy  --进入文件夹
touch study.txt --创建文件study.txt
--我们把文件提交到码云中,需要进行以下操作
git add study.txt -- 通过命令把study.txt 放入暂存区 是 .git 目录下一个叫做 index 的文件
									-- 你通过 add 指令暂存的内容，都会被写进这个文件里。
git commit -m '第一次提交:新增study.txt文件'   --只有放入暂存区的文件,才能被提交

vi study.txt  --在study.txt文件夹中增加点文字内容[新增的文件内容]
git status  -- 会显示study.txt的状态为modified

git commit -m '第二次提交study.txt文件增加内容:新增的文件内容'   -- 会提示你,study.txt没有放入到暂存										--区.提交的内容没有更改.只有放入暂存区的文件,才能被提交
git add study.txt --  要执行这个操作  把更改过的内容放进暂存区
git pull --先同步别人代码[这个是个好习惯]
git push --提交到中央仓库   在中央仓库可以看到两次commit的内容
```

![shell](https://gitee.com/whenknow/picture_bed/raw/master/2020/02/showShell.png)

---

**push提交的两次commit**

> `push` 做的事是：把当前 `branch` 的位置（即它指向哪个 `commit`）上传到远端仓库，并把它的路径上的 `commit`s 一并上传。

------

![shellGitee](https://gitee.com/whenknow/picture_bed/raw/master/2020/02/showGitee.png)

------

#Git 分支,合并

![](https://user-gold-cdn.xitu.io/2017/11/21/15fde6edbfe362c4?imageslim)



```shell
git checkout -b branch1    --创建分支 并且切换到branch1分支上来

.....经历过n多个commit后

git push origin branch1    --在分支push时候需要指定分支名称

git chekcout master  	     --切换到主分支

git merge branch1          --把branch1分支内容合并到master中 [有冲突就解决冲突]

git push 							     --提交到中央仓库

git branch -d branch1      --删除分支
git push origin -d branch1 --提交到分支branch1的中央仓库 中央仓库也删除
```

> 注:切换分支的过程,其实就是如上图中,HEAD切换指向的问题.